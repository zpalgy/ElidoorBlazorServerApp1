@page "/Accessories"

@inject IJSRuntime Js

@implements IDisposable

@inject NavigationManager Navigator

<style>
    th, td {
        padding: 15px;
        text-align: center;
    }
</style>

@code
{
    [Parameter]
    public DoorConfig doorConfig { get; set; }

    //[Parameter]
    //public bool ExtdecorIsFull { get; set; }
}
<h3>Accessories</h3>

@code {
    protected override async Task OnInitializedAsync()
    {
		
        //if (!ExtdecorIsFull)
        //{
        //    // navigate back to Movingwing 
        //    //[TODO]  Navigator.NavigateTo("Movingwing");
        //}

		//if (!UiLogic.tabPageIsFilled("extdecor", doorConfig))
  //      {
  //          Js.InvokeVoidAsync("alert", "יש למלא את כל השדות בלשונית 'דקורציה חוץ' י");
  //      }

        //var doorConfigJsonV = await ProtectedSessionStore.GetAsync<string> ("doorConfigJson");
        //if (doorConfigJsonV.Success)
        //{
        //    string doorConfigJson2 = doorConfigJsonV.Value;
        //    if (!string.IsNullOrEmpty(doorConfigJson2))
        //         doorConfig = Newtonsoft.Json.JsonConvert.DeserializeObject<DoorConfig>(doorConfigJson2);
        //UiLogic.restoreDoorConfig(ProtectedSessionStore, doorConfig);          

        //Js.InvokeVoidAsync("alert", string.Format("in Extdecor:onInitializedAsync doorConfig.EXTCOLORID = {0}", doorConfig.EXTCOLORID));  //debug
     }
    
    
    async void IDisposable.Dispose()
    {
		 //if (!UiLogic.tabPageIsFilled("intdecor", doorConfig))
   //     {
   //         Js.InvokeVoidAsync("alert", "יש למלא את כל השדות בלשונית 'דקורציה פנים' י");
   //     }
        //int x = 17;
        //if (x == 18)
        //{
        //    Js.InvokeVoidAsync("alert", "error !");
        //    //NavigationManager.NavigateTo("Movingwing", true);
        //}
    }
}
                                            <table id="tblAccessoriesL1">
                                                <tr>
                                                    <th id="thRafafaLocation" runat="server">מיקום רפפה עשן\פתח איוורור</th>
                                                    <th id="thSafeLock" runat="server">מנעול כספת</th>
                                                    <th id="thWetColorBox" runat="server">קופסאת צבע רטוב</th>
                                                    <th id="thColorSpray" runat="server">תרסיס צבע</th>
                                                    <th id="thCleaningSpray" runat="server">תרסיס ניקוי</th>
                                                    <th id="thCore" runat="server">ליבה</th>
                                                    <th id="thMezuza" runat="server">מזוזה</th>
                                                </tr>
                                                <tr>
                                                    <td id="tdRafafaLocation" runat="server">
                                                        <asp:DropDownList ID="dlstRafafaLocation" runat="server"
                                                            OnSelectedIndexChanged="ctl_valChanged">
                                                            <asp:ListItem></asp:ListItem>
                                                            <asp:ListItem>17</asp:ListItem>
                                                            <asp:ListItem>53</asp:ListItem>
                                                        </asp:DropDownList>
                                                    </td>
                                                    <td id="tdSafeLock" runat="server">
                                                        <asp:CheckBox ID="chkbSafeLock" runat="server"
                                                            OnCheckedChanged="ctl_valChanged" />
                                                    </td>
                                                    <td id="tdWetColorBox" runat="server">
                                                        <asp:CheckBox ID="chkbWetColorBox" runat="server"
                                                            OnCheckedChanged="ctl_valChanged" />
                                                    </td>
                                                    <td id="tdColorSpray" runat="server">
                                                        <asp:CheckBox ID="chkbColorSpray" runat="server"
                                                            OnCheckedChanged="ctl_valChanged" />
                                                    </td>
                                                    <td id="tdCleaningSpray" runat="server">
                                                        <asp:CheckBox ID="chkbCleaningSpray" runat="server"
                                                            OnCheckedChanged="ctl_valChanged" />
                                                    </td>
                                                    <td id="tdCore" runat="server">
                                                        <asp:CheckBox ID="chkbCore" runat="server"
                                                            OnCheckedChanged="ctl_valChanged" />
                                                    </td>
                                                    <td id="tdMezuza" runat="server">
                                                        <asp:CheckBox ID="chkbMezuza" runat="server"
                                                            OnCheckedChanged="ctl_valChanged" />
                                                    </td>
                                                </tr>
                                            </table>
